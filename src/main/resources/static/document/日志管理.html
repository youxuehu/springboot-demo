<!DOCTYPE html>
<html lang="en" xmlns:th="http:www.thymeleaf.org" xmlns:el="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>EasyUI</title>
    <link rel="stylesheet" type="text/css" href="/easyui/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="/easyui/themes/default/easyui.css">
    <script type="text/javascript" src="/easyui/jquery.min.js"></script>
    <script type="text/javascript" src="/easyui/jquery.easyui.min.js"></script>
    <script src="/easyui/locale/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript">
        $(function(){
            var pageIndex = 1
            var pageSize = 10
            get(pageIndex, pageSize)
            function get(pageIndex, pageSize){
                $.get("/log/get?pageIndex=" + pageIndex + "&pageSize=" + pageSize ,function(data,status){
                    console.log(data)
                    console.log(status)
                    if (status === 'success') {
                        $('#dg').datagrid({
                            data:data.data
                        });
                        $('#pp').pagination({
                            pageList: [10,20,50,100],
                            total:data.total,
                            pageSize:data.pageSize,
                            pageNumber:data.pageIndex
                        });
                    }
                });
            }

            $('#pp').pagination({
                onSelectPage:function(pageNumber, pageSize){
                    get(pageNumber, pageSize)
                },
                onRefresh:function(pageNumber, pageSize){
                    getCache(pageNumber, pageSize, keyword)
                }
            });
        })
    </script>
</head>
<table id="dg" class="easyui-datagrid" style="height:400px" data-options="fitColumns:true,singleSelect:true">
    <thead>
    <tr>
        <th data-options="field:'id',width:100">ID</th>
        <th data-options="field:'operator',width:100">操作人</th>
        <th data-options="field:'gmtCreate',width:100">操作时间</th>
        <th data-options="field:'content'">操作内容</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>
<div id="pp" class="easyui-pagination" style="background:#efefef;border:1px solid #ccc;"></div>


