2020-12-27 15:51:01.955 [main] INFO  nian.shop.App - Starting App on youxuehudeiMac.lan with PID 3919 (/Users/youxuehu/IdeaProjects/springboot-demo/second/target/classes started by youxuehu in /Users/youxuehu/IdeaProjects/springboot-demo/second)
2020-12-27 15:51:01.958 [main] INFO  nian.shop.App - No active profile set, falling back to default profiles: default
2020-12-27 15:51:02.208 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.6.Final
2020-12-27 15:51:02.230 [main] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7b50df34: startup date [Sun Dec 27 15:51:02 CST 2020]; root of context hierarchy
2020-12-27 15:51:03.192 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$53c95791] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-27 15:51:03.729 [main] INFO  o.s.b.c.e.tomcat.TomcatEmbeddedServletContainer - Tomcat initialized with port(s): 8080 (http)
2020-12-27 15:51:03.739 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2020-12-27 15:51:03.740 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
2020-12-27 15:51:03.817 [localhost-startStop-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2020-12-27 15:51:03.818 [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1587 ms
2020-12-27 15:51:03.952 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Mapping servlet: 'dispatcherServlet' to [/]
2020-12-27 15:51:03.955 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2020-12-27 15:51:03.956 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2020-12-27 15:51:03.956 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2020-12-27 15:51:03.956 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2020-12-27 15:51:03.956 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'resourceUrlEncodingFilter' to: [/*]
2020-12-27 15:51:05.164 [main] INFO  nian.shop.aspect.LogAspect - request_in||traceid=||spanid=802808ccbad1e8e5||cspanid=||SecondKillRequest=nian.shop.service.GoodsService.listGoodsVo
2020-12-27 15:51:05.217 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-12-27 15:51:05.518 [main] INFO  nian.shop.aspect.LogAspect - request_in||traceid=||spanid=802808ccbad1e8e5||cspanid=||SecondKillRequest=nian.shop.service.RedisService.set||arg1=nian.shop.redis.GoodsKey@1b409a79||arg2=1||arg3=4
2020-12-27 15:51:05.546 [main] INFO  nian.shop.aspect.LogAspect - request_in||traceid=||spanid=802808ccbad1e8e5||cspanid=||SecondKillRequest=nian.shop.service.RedisService.set||arg1=nian.shop.redis.GoodsKey@1b409a79||arg2=2||arg3=10
2020-12-27 15:51:05.548 [main] INFO  nian.shop.aspect.LogAspect - request_in||traceid=||spanid=802808ccbad1e8e5||cspanid=||SecondKillRequest=nian.shop.service.RedisService.set||arg1=nian.shop.redis.GoodsKey@1b409a79||arg2=3||arg3=20
2020-12-27 15:51:05.561 [main] INFO  nian.shop.task.BloomFilterTask - 初始化bloomFilter
2020-12-27 15:51:06.361 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7b50df34: startup date [Sun Dec 27 15:51:02 CST 2020]; root of context hierarchy
2020-12-27 15:51:06.460 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/]}" onto java.lang.String nian.shop.controller.DemoController.home()
2020-12-27 15:51:06.460 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/fail]}" onto nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.DemoController.fail()
2020-12-27 15:51:06.461 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/success]}" onto nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.DemoController.hello()
2020-12-27 15:51:06.461 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/thymeleaf]}" onto java.lang.String nian.shop.controller.DemoController.thymeleaf(org.springframework.ui.Model)
2020-12-27 15:51:06.461 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/db/getById]}" onto nian.shop.DTO.ResultDTO<nian.shop.entity.User> nian.shop.controller.DemoController.getByIds()
2020-12-27 15:51:06.461 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/db/tx]}" onto nian.shop.DTO.ResultDTO<java.lang.Boolean> nian.shop.controller.DemoController.tx()
2020-12-27 15:51:06.461 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/redis.conf/get]}" onto nian.shop.DTO.ResultDTO<nian.shop.entity.User> nian.shop.controller.DemoController.redisGet()
2020-12-27 15:51:06.461 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/redis.conf/set]}" onto nian.shop.DTO.ResultDTO<java.lang.Boolean> nian.shop.controller.DemoController.redisSet()
2020-12-27 15:51:06.462 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/mq]}" onto nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.DemoController.mq()
2020-12-27 15:51:06.462 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/mq1]}" onto nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.DemoController.mq1()
2020-12-27 15:51:06.463 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/goods/to_list],produces=[text/html]}" onto public java.lang.String nian.shop.controller.GoodsController.list(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.ui.Model,nian.shop.entity.SecondUser)
2020-12-27 15:51:06.463 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/goods/detail/{goodsId}]}" onto public nian.shop.DTO.ResultDTO<nian.shop.VO.GoodsDetailVo> nian.shop.controller.GoodsController.detail(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.ui.Model,nian.shop.entity.SecondUser,long)
2020-12-27 15:51:06.463 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/goods/to_detail2/{goodsId}],produces=[text/html]}" onto public java.lang.String nian.shop.controller.GoodsController.detail2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.ui.Model,nian.shop.entity.SecondUser,long)
2020-12-27 15:51:06.463 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/login/to_login]}" onto public java.lang.String nian.shop.controller.LoginController.toLogin()
2020-12-27 15:51:06.464 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/login/do_login]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.LoginController.doLogin(javax.servlet.http.HttpServletResponse,nian.shop.VO.LoginVO)
2020-12-27 15:51:06.465 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/order/detail]}" onto public nian.shop.DTO.ResultDTO<nian.shop.VO.OrderDetailVo> nian.shop.controller.OrderController.info(org.springframework.ui.Model,nian.shop.entity.SecondUser,long)
2020-12-27 15:51:06.468 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/reset],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.Boolean> nian.shop.controller.SecondController.reset(org.springframework.ui.Model)
2020-12-27 15:51:06.468 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/{path}/do_secondKill],methods=[POST]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.SecondController.secondKill(org.springframework.ui.Model,nian.shop.entity.SecondUser,long,java.lang.String) throws java.io.UnsupportedEncodingException,java.lang.InterruptedException,com.alibaba.rocketmq.remoting.exception.RemotingException,com.alibaba.rocketmq.client.exception.MQClientException,com.alibaba.rocketmq.client.exception.MQBrokerException
2020-12-27 15:51:06.468 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/result],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.Long> nian.shop.controller.SecondController.miaoshaResult(org.springframework.ui.Model,nian.shop.entity.SecondUser,long)
2020-12-27 15:51:06.469 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/path],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.SecondController.getSecondKillPath(javax.servlet.http.HttpServletRequest,nian.shop.entity.SecondUser,long,int)
2020-12-27 15:51:06.469 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/path/first],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.SecondController.firstGetSecondKillPath(javax.servlet.http.HttpServletRequest,nian.shop.entity.SecondUser,long)
2020-12-27 15:51:06.469 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/verifyCode],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.SecondController.getSecondKillVerifyCode(javax.servlet.http.HttpServletResponse,nian.shop.entity.SecondUser,long)
2020-12-27 15:51:06.469 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/user/info]}" onto public nian.shop.DTO.ResultDTO<nian.shop.entity.SecondUser> nian.shop.controller.UserController.info(org.springframework.ui.Model,nian.shop.entity.SecondUser)
2020-12-27 15:51:06.470 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-12-27 15:51:06.471 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-12-27 15:51:06.512 [main] INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-12-27 15:51:06.512 [main] INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-12-27 15:51:06.526 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in globalExceptionHandler
2020-12-27 15:51:06.547 [main] INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-12-27 15:51:06.821 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2020-12-27 15:51:06.822 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2020-12-27 15:51:06.827 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2020-12-27 15:51:06.828 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2020-12-27 15:51:06.829 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2020-12-27 15:51:06.872 [main] INFO  o.s.context.support.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2020-12-27 15:51:06.925 [SimpleAsyncTaskExecutor-6] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3dc83707:0/SimpleConnection@2c2d859b [delegate=amqp://root@127.0.0.1:5672/, localPort= 50575]
2020-12-27 15:51:06.967 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2020-12-27 15:51:06.975 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2020-12-27 15:51:06.980 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2020-12-27 15:51:06.994 [main] INFO  o.s.b.c.e.tomcat.TomcatEmbeddedServletContainer - Tomcat started on port(s): 8080 (http)
2020-12-27 15:51:06.998 [main] INFO  nian.shop.App - Started App in 5.46 seconds (JVM running for 5.875)
2020-12-27 15:51:32.680 [Thread-5] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7b50df34: startup date [Sun Dec 27 15:51:02 CST 2020]; root of context hierarchy
2020-12-27 15:51:32.682 [Thread-5] INFO  o.s.context.support.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2020-12-27 15:51:32.704 [Thread-5] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2020-12-27 15:51:33.018 [Thread-5] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2020-12-27 15:51:33.019 [Thread-5] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2020-12-27 15:51:33.019 [Thread-5] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2020-12-27 15:51:33.032 [Thread-5] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
