2020-12-27 16:33:40.234 [main] INFO  nian.shop.App - Starting App on youxuehudeiMac.lan with PID 4940 (/Users/youxuehu/IdeaProjects/springboot-demo/second/target/classes started by youxuehu in /Users/youxuehu/IdeaProjects/springboot-demo/second)
2020-12-27 16:33:40.237 [main] INFO  nian.shop.App - No active profile set, falling back to default profiles: default
2020-12-27 16:33:40.467 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.6.Final
2020-12-27 16:33:40.482 [main] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7b50df34: startup date [Sun Dec 27 16:33:40 CST 2020]; root of context hierarchy
2020-12-27 16:33:41.266 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$c1d1bec3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-27 16:33:41.693 [main] INFO  o.s.b.c.e.tomcat.TomcatEmbeddedServletContainer - Tomcat initialized with port(s): 8080 (http)
2020-12-27 16:33:41.701 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2020-12-27 16:33:41.702 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
2020-12-27 16:33:41.770 [localhost-startStop-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2020-12-27 16:33:41.770 [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1288 ms
2020-12-27 16:33:41.903 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Mapping servlet: 'dispatcherServlet' to [/]
2020-12-27 16:33:41.906 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2020-12-27 16:33:41.907 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2020-12-27 16:33:41.907 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2020-12-27 16:33:41.907 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2020-12-27 16:33:41.907 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'resourceUrlEncodingFilter' to: [/*]
2020-12-27 16:33:42.790 [main] INFO  nian.shop.aspect.LogAspect - request_in||traceid=||spanid=80000086098ba407||cspanid=||SecondKillRequest=nian.shop.service.GoodsService.listGoodsVo
2020-12-27 16:33:42.830 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-12-27 16:33:43.089 [main] INFO  nian.shop.aspect.LogAspect - request_in||traceid=||spanid=80000086098ba407||cspanid=||SecondKillRequest=nian.shop.service.RedisService.set||arg1=nian.shop.redis.GoodsKey@21516c88||arg2=1||arg3=4
2020-12-27 16:33:43.111 [main] INFO  nian.shop.aspect.LogAspect - request_in||traceid=||spanid=80000086098ba407||cspanid=||SecondKillRequest=nian.shop.service.RedisService.set||arg1=nian.shop.redis.GoodsKey@21516c88||arg2=2||arg3=10
2020-12-27 16:33:43.112 [main] INFO  nian.shop.aspect.LogAspect - request_in||traceid=||spanid=80000086098ba407||cspanid=||SecondKillRequest=nian.shop.service.RedisService.set||arg1=nian.shop.redis.GoodsKey@21516c88||arg2=3||arg3=20
2020-12-27 16:33:43.125 [main] INFO  nian.shop.task.BloomFilterTask - 初始化bloomFilter
2020-12-27 16:33:43.718 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7b50df34: startup date [Sun Dec 27 16:33:40 CST 2020]; root of context hierarchy
2020-12-27 16:33:43.775 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/fail]}" onto nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.DemoController.fail()
2020-12-27 16:33:43.775 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/]}" onto java.lang.String nian.shop.controller.DemoController.home()
2020-12-27 16:33:43.776 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/success]}" onto nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.DemoController.hello()
2020-12-27 16:33:43.776 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/db/getById]}" onto nian.shop.DTO.ResultDTO<nian.shop.entity.User> nian.shop.controller.DemoController.getByIds()
2020-12-27 16:33:43.776 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/redis.conf/get]}" onto nian.shop.DTO.ResultDTO<nian.shop.entity.User> nian.shop.controller.DemoController.redisGet()
2020-12-27 16:33:43.776 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/redis.conf/set]}" onto nian.shop.DTO.ResultDTO<java.lang.Boolean> nian.shop.controller.DemoController.redisSet()
2020-12-27 16:33:43.776 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/mq1]}" onto nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.DemoController.mq1()
2020-12-27 16:33:43.777 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/db/tx]}" onto nian.shop.DTO.ResultDTO<java.lang.Boolean> nian.shop.controller.DemoController.tx()
2020-12-27 16:33:43.777 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/mq]}" onto nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.DemoController.mq()
2020-12-27 16:33:43.777 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/demo/thymeleaf]}" onto java.lang.String nian.shop.controller.DemoController.thymeleaf(org.springframework.ui.Model)
2020-12-27 16:33:43.778 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/goods/to_list],produces=[text/html]}" onto public java.lang.String nian.shop.controller.GoodsController.list(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.ui.Model,nian.shop.entity.SecondUser)
2020-12-27 16:33:43.778 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/goods/detail/{goodsId}]}" onto public nian.shop.DTO.ResultDTO<nian.shop.VO.GoodsDetailVo> nian.shop.controller.GoodsController.detail(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.ui.Model,nian.shop.entity.SecondUser,long)
2020-12-27 16:33:43.778 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/goods/to_detail2/{goodsId}],produces=[text/html]}" onto public java.lang.String nian.shop.controller.GoodsController.detail2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.ui.Model,nian.shop.entity.SecondUser,long)
2020-12-27 16:33:43.779 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/login/do_login]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.LoginController.doLogin(javax.servlet.http.HttpServletResponse,nian.shop.VO.LoginVO)
2020-12-27 16:33:43.779 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/login/to_login]}" onto public java.lang.String nian.shop.controller.LoginController.toLogin()
2020-12-27 16:33:43.780 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/order/detail]}" onto public nian.shop.DTO.ResultDTO<nian.shop.VO.OrderDetailVo> nian.shop.controller.OrderController.info(org.springframework.ui.Model,nian.shop.entity.SecondUser,long)
2020-12-27 16:33:43.784 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/reset],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.Boolean> nian.shop.controller.SecondController.reset(org.springframework.ui.Model)
2020-12-27 16:33:43.784 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/{path}/do_secondKill],methods=[POST]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.SecondController.secondKill(org.springframework.ui.Model,nian.shop.entity.SecondUser,long,java.lang.String) throws java.io.UnsupportedEncodingException,java.lang.InterruptedException,com.alibaba.rocketmq.remoting.exception.RemotingException,com.alibaba.rocketmq.client.exception.MQClientException,com.alibaba.rocketmq.client.exception.MQBrokerException
2020-12-27 16:33:43.784 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/result],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.Long> nian.shop.controller.SecondController.miaoshaResult(org.springframework.ui.Model,nian.shop.entity.SecondUser,long)
2020-12-27 16:33:43.784 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/path],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.SecondController.getSecondKillPath(javax.servlet.http.HttpServletRequest,nian.shop.entity.SecondUser,long,int)
2020-12-27 16:33:43.785 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/path/first],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.SecondController.firstGetSecondKillPath(javax.servlet.http.HttpServletRequest,nian.shop.entity.SecondUser,long)
2020-12-27 16:33:43.785 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/second/verifyCode],methods=[GET]}" onto public nian.shop.DTO.ResultDTO<java.lang.String> nian.shop.controller.SecondController.getSecondKillVerifyCode(javax.servlet.http.HttpServletResponse,nian.shop.entity.SecondUser,long)
2020-12-27 16:33:43.785 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/user/info]}" onto public nian.shop.DTO.ResultDTO<nian.shop.entity.SecondUser> nian.shop.controller.UserController.info(org.springframework.ui.Model,nian.shop.entity.SecondUser)
2020-12-27 16:33:43.786 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-12-27 16:33:43.787 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-12-27 16:33:43.843 [main] INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-12-27 16:33:43.843 [main] INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-12-27 16:33:43.857 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in globalExceptionHandler
2020-12-27 16:33:43.878 [main] INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-12-27 16:33:44.146 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2020-12-27 16:33:44.147 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2020-12-27 16:33:44.152 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2020-12-27 16:33:44.153 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2020-12-27 16:33:44.154 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2020-12-27 16:33:44.185 [main] INFO  o.s.context.support.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2020-12-27 16:33:44.230 [SimpleAsyncTaskExecutor-4] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#28f0ddf8:0/SimpleConnection@5496dfc3 [delegate=amqp://root@127.0.0.1:5672/, localPort= 50985]
2020-12-27 16:33:44.271 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2020-12-27 16:33:44.279 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2020-12-27 16:33:44.284 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2020-12-27 16:33:44.295 [main] INFO  o.s.b.c.e.tomcat.TomcatEmbeddedServletContainer - Tomcat started on port(s): 8080 (http)
2020-12-27 16:33:44.298 [main] INFO  nian.shop.App - Started App in 4.455 seconds (JVM running for 4.782)
2020-12-27 16:37:17.667 [Thread-5] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7b50df34: startup date [Sun Dec 27 16:33:40 CST 2020]; root of context hierarchy
2020-12-27 16:37:17.669 [Thread-5] INFO  o.s.context.support.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2020-12-27 16:37:17.697 [Thread-5] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2020-12-27 16:37:17.705 [Thread-5] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2020-12-27 16:37:17.706 [Thread-5] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2020-12-27 16:37:17.706 [Thread-5] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2020-12-27 16:37:17.715 [Thread-5] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
